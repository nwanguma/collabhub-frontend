{"version":3,"file":"profileRecommendations.js","sourceRoot":"/","sources":["lib/recommendations/profileRecommendations.ts"],"names":[],"mappings":";;AAEA,MAAM,iBAAiB,GAAG,CAAC,EACzB,WAAW,EACX,QAAQ,GAIT,EAAa,EAAE;IACd,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,WAAW,CAAC;IAE7C,OAAO,QAAQ;SACZ,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,KAAK,WAAW,CAAC,EAAE,CAAC;SAClD,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;QACf,IAAI,KAAK,GAAG,CAAC,CAAC;QAEd,MAAM,YAAY,GAAG,OAAO,CAAC,MAAO,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CACpD,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CACzC,CAAC,MAAM,CAAC;QACT,KAAK,IAAI,YAAY,GAAG,CAAC,CAAC;QAE1B,IAAI,OAAO,CAAC,QAAQ,KAAK,WAAW,CAAC,QAAQ,EAAE,CAAC;YAC9C,KAAK,IAAI,CAAC,CAAC;QACb,CAAC;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,KAAe,EAAE,GAAG,CAAC,GAAG,EAAE,CAAC;QAClE,KAAK,IAAI,aAAa,CAAC;QAEvB,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC5B,CAAC,CAAC;SACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;SACjC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACrC,CAAC,CAAC;AAEF,kBAAe,iBAAiB,CAAC","sourcesContent":["import { Profile } from \"@/common/constants\";\n\nconst recommendProfiles = ({\n  currentUser,\n  profiles,\n}: {\n  currentUser: any;\n  profiles: Profile[];\n}): Profile[] => {\n  const { profile: userProfile } = currentUser;\n\n  return profiles\n    .filter((profile) => profile.id !== currentUser.id)\n    .map((profile) => {\n      let score = 0;\n\n      const skillMatches = profile.skills!.filter((skill) =>\n        userProfile.skills.includes(skill.title)\n      ).length;\n      score += skillMatches * 5;\n\n      if (profile.location === userProfile.location) {\n        score += 3;\n      }\n\n      const activityScore = Math.min(profile.views as number, 100) / 10;\n      score += activityScore;\n\n      return { profile, score };\n    })\n    .sort((a, b) => b.score - a.score)\n    .map((result) => result.profile);\n};\n\nexport default recommendProfiles;\n"]}